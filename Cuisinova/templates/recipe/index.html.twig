{% extends 'base.html.twig' %}

{% block title %}Recettes{% endblock %}

{% block body %}
    <h1 class="text-align">Toutes les recettes</h1>

    <p><i> Plus de {{total}} min de recettes partag√©es !</i>ü§§</p>

    <a class="btn btn-success" href="{{ url('recipe_create') }}">Cr√©er une nouvelle recette</a>
    
    <table class="table table-striped">
        <thead>
            <th>Titre</th>
            <th class="text-end">Actions</th>
        </thead>
        <tbody>
            {% for recipe in recipes %}
                <tr>
                    <td><a href="{{ url('recipe_show', {'id': recipe.id, 'slug': recipe.slug}) }}">{{ recipe.title }}</a></td>
                    <td class="text-end">
                        <div class="d-flex gap-2 justify-content-end">
                            <a class="btn btn-primary btn-sm" href="{{ url('recipe_edit', {'id': recipe.id}) }}">Editer</a>
                            <form action="{{ url('recipe_delete', {'id': recipe.id}) }}" method="post">
                                <input type="hidden" name="_method" value="DELETE">
                                <button type="submit" class="btn btn-danger btn-sm">Supprimer</button>
                            </form>
                        </div>
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
{% endblock %}
